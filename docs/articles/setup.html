<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google API Setup • googleAuthR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">googleAuthR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/google-authentication-types.html">Authentication with Google</a>
</li>
<li>
  <a href="../articles/building.html">Building Google APIs for R</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Reference</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Google API Setup</h1>
                        <h4 class="author">Mark Edmondson</h4>
            
            <h4 class="date">2017-06-04</h4>
          </div>

    
    
<div class="contents">
<p><code>googleAuthR</code> has a default project setup with APIs activated for several APIs, but it is recommended you use your own Client IDs as the login screen will be big and scary for users with so many APIs to approve.<br>
It is preferred to configure your functions to only use the scopes they need. Scopes you need will be specified in the Google API documentation. Set scopes via the option <code>googleAuthR.scopes.selected</code>.</p>
<p>The below example sets scopes for Search Console, Google Analytics and Tag Manager:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="st">"googleAuthR.scopes.selected"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"https://www.googleapis.com/auth/webmasters"</span>,
                                          <span class="st">"https://www.googleapis.com/auth/analytics"</span>,
                                          <span class="st">"https://www.googleapis.com/auth/tagmanager.readonly"</span>))</code></pre></div>
<div id="set-up-steps" class="section level1">
<h1 class="hasAnchor">
<a href="#set-up-steps" class="anchor"></a>Set up steps</h1>
<ol style="list-style-type: decimal">
<li>Set up your project in the Google API Console to use the Google API you want.</li>
</ol>
<div id="for-local-use" class="section level2">
<h2 class="hasAnchor">
<a href="#for-local-use" class="anchor"></a>For local use</h2>
<ol start="2" style="list-style-type: decimal">
<li>Click ‘Create a new Client ID’, and choose “Installed Application”.</li>
<li>Note your Client ID and secret.</li>
<li>Modify these options after <code>googleAuthR</code> has been loaded:</li>
</ol>
<ul>
<li><code>options("googleAuthR.client_id" = "YOUR_CLIENT_ID")</code></li>
<li><code>options("googleAuthR.client_secret" = "YOUR_CLIENT_SECRET")</code></li>
</ul>
</div>
<div id="for-shiny-use" class="section level2">
<h2 class="hasAnchor">
<a href="#for-shiny-use" class="anchor"></a>For Shiny use</h2>
<ol start="2" style="list-style-type: decimal">
<li>Click ‘Create a new Client ID’, and choose “Web Application”.</li>
<li>Note your Client ID and secret.</li>
<li>Add the URL of where your Shiny app will run, with no port number. e.g. <a href="https://mark.shinyapps.io/searchConsoleRDemo/" class="uri">https://mark.shinyapps.io/searchConsoleRDemo/</a>
</li>
<li>And/Or also put in localhost or 127.0.0.1 with a port number for local testing. Remember the port number you use as you will need it later to launch the app e.g. <code>http://127.0.0.1:1221</code>
</li>
<li>In your Shiny script modify these options:</li>
</ol>
<ul>
<li><code>options("googleAuthR.webapp.client_id" = "YOUR_CLIENT_ID")</code></li>
<li><code>options("googleAuthR.webapp.client_secret" = "YOUR_CLIENT_SECRET")</code></li>
</ul>
<ol start="7" style="list-style-type: decimal">
<li>Run the app locally specifying the port number you used e.g. <code>shiny::runApp(port=1221)</code>
</li>
<li>Or deploy to your Shiny Server that deploys to web port (80 or 443).</li>
</ol>
</div>
</div>
<div id="activate-api" class="section level1">
<h1 class="hasAnchor">
<a href="#activate-api" class="anchor"></a>Activate API</h1>
<ol style="list-style-type: decimal">
<li>Click on “APIs”</li>
<li>Select and activate the API you want to use.</li>
<li>Go to the documentation and find the API scope URL</li>
<li>Set option in your R script for the scope e.g.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="st">"googleAuthR.scopes.selected"</span> =<span class="st"> </span>
<span class="st">      </span><span class="kw">c</span>(<span class="st">"https://www.googleapis.com/auth/urlshortener"</span>))</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#set-up-steps">Set up steps</a><ul class="nav nav-pills nav-stacked">
<li><a href="#for-local-use">For local use</a></li>
      <li><a href="#for-shiny-use">For Shiny use</a></li>
      </ul>
</li>
      <li><a href="#activate-api">Activate API</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mark Edmondson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
