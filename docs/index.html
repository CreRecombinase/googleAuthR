<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Easy Authentication with Google OAuth2 API &bull; googleAuthR</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">googleAuthR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="articles/google-authentication-types.html">Authentication with Google</a>
</li>
<li>
  <a href="articles/building.html">Building Google APIs for R</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="reference/index.html">Reference</a>
    </li>
    <li>
      <a href="news/index.html">News</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<div id="googleauthr---google-api-client-library-for-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor"><a href="#googleauthr---google-api-client-library-for-r" class="anchor"> </a>googleAuthR - Google API Client Library for R</h1></div>

<p>Auto-build libraries for Google APIs with OAuth2 for both local and Shiny app use.</p>
<p>This guide is also available at the <a href="http://code.markedmondson.me/googleAuthR/">googleAuthR website</a></p>
<div id="r-google-api-libraries-using-googleauthr" class="section level2">
<h2 class="hasAnchor"><a href="#r-google-api-libraries-using-googleauthr" class="anchor"> </a>R Google API libraries using googleAuthR</h2>
<p>Here is a list of <a href="https://developers.google.com/apis-explorer/#p/">available Google APIs</a> to make with this library. The below libraries are all cross-compatible as they use <code>googleAuthR</code> for authentication backend e.g.&nbsp;can use just one OAuth2 login flow and can be used in multi-user Shiny apps.</p>
<ul><li><a href="https://cloudyr.github.io/googleComputeEngineR/">googleComputeEngineR</a> - Google Compute Engine from your R console</li>
<li><a href="http://code.markedmondson.me/searchConsoleR/">searchConsoleR</a> - Search Console API</li>
<li><a href="http://code.markedmondson.me/bigQueryR/">bigQueryR</a> - BigQuery API. Part of the cloudyr project.</li>
<li><a href="http://code.markedmondson.me/googleAnalyticsR/">googleAnalyticsR</a> - Google Analytics API</li>
<li><a href="https://github.com/MarkEdmondson1234/gtmR">gtmR</a> - Google Tag Manager API (in progress)</li>
<li><a href="https://github.com/MarkEdmondson1234/googleID">googleID</a> - Simple user info from G+ API for Shiny app authentication flows.</li>
<li><a href="http://code.markedmondson.me/googleCloudStorageR/">googleCloudStorageR</a> - Google Cloud Storage API</li>
<li><a href="https://github.com/cloudyr/RoogleVision">RoogleVision</a> - R Package for Image Recogntion, Object Detection, and OCR using the Google&rsquo;s Cloud Vision API</li>
</ul><p>Feel free to add your own via email or a pull request if you have used googleAuthR to build something cool.</p>
<p><code>googleAuthR</code> has an R package generator which makes R package skeletons you can use to build your own Google API R package upon. Browse through the 154 options at this <a href="https://github.com/MarkEdmondson1234/autoGoogleAPI">Github repository</a>.</p>
</div>
<div id="example-shiny-app" class="section level2">
<h2 class="hasAnchor"><a href="#example-shiny-app" class="anchor"> </a>Example Shiny app</h2>
<p>An example shiny app with Google authentication is <a href="https://mark.shinyapps.io/googleAuthRexample/">deployed to shinyapps.io here</a>. It uses the example app that is available in <code>system.file("shiny", package="googleAuthR")</code></p>
</div>
<div id="thanks-to" class="section level2">
<h2 class="hasAnchor"><a href="#thanks-to" class="anchor"> </a>Thanks to:</h2>
<ul><li>Jenny Bryan and her work on the <a href="https://github.com/jennybc/googlesheets">googlesheets</a> package that this work derives from.</li>
<li>Hadley Wickham for <a href="https://github.com/hadley/httr">httr&rsquo;s OAuth2</a> excellence</li>
<li>RStudio team for <a href="http://shiny.rstudio.com/">Shiny</a></li>
<li><a href="https://github.com/jdeboer">Johann de Boer</a> for some code contributions.</li>
</ul></div>
<div id="install" class="section level2">
<h2 class="hasAnchor"><a href="#install" class="anchor"> </a>Install</h2>
<p><code>googleAuthR</code> is available on CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"googleAuthR"</span>)</code></pre></div>
<p>If you want to use the development version on Github, install via:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">"MarkEdmondson1234/googleAuthR"</span>)</code></pre></div>
</div>
<div id="overview" class="section level2">
<h2 class="hasAnchor"><a href="#overview" class="anchor"> </a>Overview</h2>
<p>This library allows you to authenticate easily via local use in an OAuth2 flow; within a Shiny app; or via service accounts. The main two functions are <code><a href="reference/gar_auth.html">gar_auth()</a></code> and <code><a href="reference/gar_api_generator.html">gar_api_generator()</a></code>.</p>
<div id="gar_auth---for-authentication" class="section level3">
<h3 class="hasAnchor"><a href="#gar_auth---for-authentication" class="anchor"> </a><code>gar_auth</code> - for authentication</h3>
<p>This takes care of getting the authentication token, storing it and refreshing.</p>
<p>Use it before any call to a Google library.</p>
</div>
<div id="gar_api_generator---for-building-an-api" class="section level3">
<h3 class="hasAnchor"><a href="#gar_api_generator---for-building-an-api" class="anchor"> </a><code>gar_api_generator</code> - for building an API</h3>
<p>This creates functions for you to use to interact with Google APIs.</p>
<p>Use it within your own function definitions, to query the Google API you want.</p>
</div>
</div>
<div id="google-api-setup" class="section level2">
<h2 class="hasAnchor"><a href="#google-api-setup" class="anchor"> </a>Google API Setup</h2>
<p><code>googleAuthR</code> has a default project setup with APIs activated for several APIs, but it is recommended you use your own Client IDs as the login screen will be big and scary for users with so many APIs to approve.<br>
It is preferred to configure your functions to only use the scopes they need. Scopes you need will be specified in the Google API documentation. Set scopes via the option <code>googleAuthR.scopes.selected</code>.</p>
<p>The below example sets scopes for Search Console, Google Analytics and Tag Manager:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="st">"googleAuthR.scopes.selected"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"https://www.googleapis.com/auth/webmasters"</span>,
                                          <span class="st">"https://www.googleapis.com/auth/analytics"</span>,
                                          <span class="st">"https://www.googleapis.com/auth/tagmanager.readonly"</span>))</code></pre></div>
<div id="set-up-steps" class="section level3">
<h3 class="hasAnchor"><a href="#set-up-steps" class="anchor"> </a>Set up steps</h3>
<ol style="list-style-type: decimal"><li>Set up your project in the Google API Console to use the Google API you want.</li>
</ol><div id="for-local-use" class="section level4">
<h4 class="hasAnchor"><a href="#for-local-use" class="anchor"> </a>For local use</h4>
<ol start="2" style="list-style-type: decimal"><li>Click &lsquo;Create a new Client ID&rsquo;, and choose &ldquo;Installed Application&rdquo;.</li>
<li>Note your Client ID and secret.</li>
<li>Modify these options after <code>googleAuthR</code> has been loaded:</li>
</ol><ul><li><code>options("googleAuthR.client_id" = "YOUR_CLIENT_ID")</code></li>
<li><code>options("googleAuthR.client_secret" = "YOUR_CLIENT_SECRET")</code></li>
</ul></div>
<div id="for-shiny-use" class="section level4">
<h4 class="hasAnchor"><a href="#for-shiny-use" class="anchor"> </a>For Shiny use</h4>
<ol start="2" style="list-style-type: decimal"><li>Click &lsquo;Create a new Client ID&rsquo;, and choose &ldquo;Web Application&rdquo;.</li>
<li>Note your Client ID and secret.</li>
<li>Add the URL of where your Shiny app will run, with no port number. e.g.&nbsp;<a href="https://mark.shinyapps.io/searchConsoleRDemo/" class="uri">https://mark.shinyapps.io/searchConsoleRDemo/</a></li>
<li>And/Or also put in localhost or 127.0.0.1 with a port number for local testing. Remember the port number you use as you will need it later to launch the app e.g. <code>http://127.0.0.1:1221</code></li>
<li>In your Shiny script modify these options:</li>
</ol><ul><li><code>options("googleAuthR.webapp.client_id" = "YOUR_CLIENT_ID")</code></li>
<li><code>options("googleAuthR.webapp.client_secret" = "YOUR_CLIENT_SECRET")</code></li>
</ul><ol start="7" style="list-style-type: decimal"><li>Run the app locally specifying the port number you used e.g. <code>shiny::runApp(port=1221)</code></li>
<li>Or deploy to your Shiny Server that deploys to web port (80 or 443).</li>
</ol></div>
<div id="activate-api" class="section level4">
<h4 class="hasAnchor"><a href="#activate-api" class="anchor"> </a>Activate API</h4>
<ol style="list-style-type: decimal"><li>Click on &ldquo;APIs&rdquo;</li>
<li>Select and activate the API you want to use.</li>
<li>Go to the documentation and find the API scope URL</li>
<li>Set option in your R script for the scope e.g.</li>
</ol><div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="st">"googleAuthR.scopes.selected"</span> =<span class="st"> </span>
<span class="st">      </span><span class="kw">c</span>(<span class="st">"https://www.googleapis.com/auth/urlshortener"</span>))</code></pre></div>
</div>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2><ul class="list-unstyled"><li>Download from CRAN at <br><a href="https://cran.r-project.org/package=googleAuthR">https://&#8203;cran.r-project.org/&#8203;package=googleAuthR</a></li>
<li>Report a bug at <br><a href="https://github.com/MarkEdmondson1234/googleAuthR/issues">https://&#8203;github.com/&#8203;MarkEdmondson1234/&#8203;googleAuthR/&#8203;issues</a></li>
</ul><h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2><ul class="list-unstyled"><li>Mark Edmondson <br><small class="roles"> Author, maintainer </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul><html><body><h2>Dev status</h2><ul class="list-unstyled"><li><a href="http://cran.r-project.org/package=googleAuthR">
  <img src="http://www.r-pkg.org/badges/version/googleAuthR" alt="CRAN"></a></li>
<li><a href="https://travis-ci.org/MarkEdmondson1234/googleAuthR">
  <img src="https://travis-ci.org/MarkEdmondson1234/googleAuthR.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/github/MarkEdmondson1234/googleAuthR?branch=master">
  <img src="https://img.shields.io/codecov/c/github/MarkEdmondson1234/googleAuthR/master.svg" alt="Coverage Status"></a></li>
</ul></body></html></div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mark Edmondson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
